<p id="notice"><%= notice %></p>

<p>
  <strong>Title:</strong>
  <%= @post.title %>
</p>

<p>
  <strong>Body:</strong>
  <%= @post.body %>
</p>

<p>
  <strong>Comments:</strong>
  <div class='comment-data'>
    <%= render_comments(@post, path: comments_post_path) %></%>
  </div>
</p>

<%= link_to 'Edit', edit_post_path(@post) %> |
<%= link_to 'Back', posts_path %>

<script type="text/javascript">
  $(document).ready(function() {
    $("[data-rel='comment-form']").each(function(){
      $(this).on("ajax:success", function(e, data, status, xhr) {
        $(this).parent('.comment-data').children(".comment-list").append("<p><i>#"+data.comment.id+"</i>"+data.comment.content+"</p>")
      }).on("ajax:error", function(e, xhr, status, error) {
        $("#new_article").append("<p>ERROR</p>");
      });
    })
  });
</script>
